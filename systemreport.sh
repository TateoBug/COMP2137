#!/bin/bash
Username=$USERNAME
Date=$(date +%c)
Hostname=$HOSTNAME
source /etc/os-release
OS=$PRETTY_NAME
Uptime=$(uptime -p)
CPU=$(lscpu | grep 'Model name:' | awk -F':' '{print $2}' | xargs)
Speed=$(cat /proc/cpuinfo | grep 'MHz' | uniq)
RAM=$(lscpu | grep MemTotal /proc/meminfo | awk '{print $2, "kB"}' )
Disk=$(lsblk | grep 'disk')
Video=$(lspci -vnn | grep -i vga | cut -d ':' -f3- | cut -c1-24)
FQDN=$(hostname -f)
HostAd=$(ip addr show ens33 | grep -oP 'inet \K[\d.]+')
GatewayIP=$(ip route | awk '/default/ {print $3}')
DNSS=$(awk '/^nameserver/ {print $2}' /etc/resolv.conf)
IntName=$(ip link show | awk -F ': ' '{print $2}' | grep -v '^lo')
IPAdd=$(ip -o -4 addr show scope global | awk '{print $4}')
Userlog=$(whoami)
DiskSpace=$(df -h --output=target,avail | awk 'NR > 1 {print $1, $2}')
ProCount=$(ps aux | wc -l)
LoadAve=$(uptime | awk -F 'average:' '{print $2}' | awk -F ', ' '{print $1, $2, $3}')
MemoryAll=$(free -h)
NetPorts=$(netstat -tuln | grep 'LISTEN')
UFWRules=$(ufw show)

cat << EOF


System Report generated by, $Username, $Date

System Information
------------------------------
Hostname: $HostAd
OS: $OS
Uptime: $Uptime


Hardware Information
------------------------------
CPU: $CPU
Speed:$Speed
RAM:$RAM
Disk(s):$Disk
Video Card:$Video


Network Information
------------------------------
FQDN: $FQDN
Host Address: $HostAd
Gateway IP: $GatewayIP
DNS Server: $DNSS


InterFaceName:$IntName
IP Address:$IPAdd


System Status
------------------------------
Users Logged In: $Userlog
Disk Space: $DiskSpace
Process Count: $ProCount
Load Averages: $LoadAve
Memory Allocation: $MemoryAll
Listening Network Ports: $NetPorts
UFW Rules: $UFWRules



EOF
